import axios from 'axios';

const serverUrl = 'http://localhost:4000';

export const fetchPhones = async () => {
    let phones;

    try {
        phones = await axios.get(`${serverUrl}/api/phones`);
    } catch (error) {
        console.error(error.message);
        phones = [];
    }

    return phones.data;
};

export const loadMorePhones = async () => {
    let phones;

    try {
        phones = await axios.get(`${serverUrl}/api/phones`);
    } catch (error) {
        console.error(error.message);
        phones = [];
    }

    return phones.data;
};

export const fetchPhoneById = async id => {
    let phone;

    try {
        phone = await axios.get(`${serverUrl}/api/phones/${id}`);
    } catch (error) {
        console.error(error.message);
        phone = {};
    }

    return phone.data;
};

export const fetchCategories = async () => {
    let categories;

    try {
        categories = await axios.get(`${serverUrl}/api/categories`);
    } catch (error) {
        console.error(error.message);
        categories = [];
    }

    return categories.data;
};

export const login = async (email, password) => {
    let user;

    try {
        user = await axios.post(`${serverUrl}/api/login`, {
            email,
            password
        })
    } catch (error) {
        console.error(error.message);
        user = null;
    }

    return user.data;
}
